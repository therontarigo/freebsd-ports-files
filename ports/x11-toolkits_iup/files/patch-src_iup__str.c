--- src/iup_str.c.orig	2018-04-29 14:58:02 UTC
+++ src/iup_str.c
@@ -1226,20 +1226,20 @@ static void iStrInitLatin1_map(void)
 
   mm(  0)=  0;  mm(  1)=  1; mm(  2)=  2; mm(  3)=  3; mm(  4)=  4; mm(  5)=  5; mm(  6)=  6; mm(  7)=  7;  mm(  8)=  8; mm(  9)=  9; mm( 10)= 10; mm( 11)= 11; mm( 12)= 12; mm( 13)= 13; mm( 14)= 14; mm( 15)= 15; 
   mm( 16)= 16;  mm( 17)= 17; mm( 18)= 18; mm( 19)= 19; mm( 20)= 20; mm( 21)= 21; mm( 22)= 22; mm( 23)= 23;  mm( 24)= 24; mm( 25)= 25; mm( 26)= 26; mm( 27)= 27; mm( 28)= 28; mm( 29)= 29; mm( 30)= 30; mm( 31)= 31; 
-  mm('\'')= 32; mm('-')= 33; mm('–')= 34; mm('—')= 35; mm(' ')= 36; mm('!')= 37; mm('"')= 38; mm('#')= 39;  mm('$')= 40; mm('%')= 41; mm('&')= 42; mm('(')= 43; mm(')')= 44; mm('*')= 45; mm(',')= 46; mm('.')= 47; 
-  mm('/')= 48;  mm(':')= 49; mm(';')= 50; mm('?')= 51; mm('@')= 52; mm('(')= 53; mm(')')= 54; mm('^')= 55;  mm('ˆ')= 56; mm('_')= 57; mm('`')= 58; mm('{')= 59; mm('|')= 60; mm('}')= 61; mm('~')= 62; mm('¡')= 63; 
-  mm('¦')= 64;  mm('¨')= 65; mm('¯')= 66; mm('´')= 67; mm('¸')= 68; mm('¿')= 69; mm('˜')= 70; mm('‘')= 71;  mm('’')= 72; mm('‚')= 73; mm('“')= 74; mm('”')= 75; mm('„')= 76; mm('‹')= 77; mm('›')= 78; mm('¢')= 79; 
-  mm('£')= 80;  mm('¤')= 81; mm('¥')= 82; mm('€')= 83; mm('+')= 84; mm('<')= 85; mm('=')= 86; mm('>')= 87;  mm('±')= 88; mm('«')= 89; mm('»')= 90; mm('×')= 91; mm('÷')= 92; mm('§')= 93; mm('©')= 94; mm('¬')= 95; 
-  mm('®')= 96;  mm('°')= 97; mm('µ')= 98; mm('¶')= 99; mm('…')=100; mm('†')=101; mm('‡')=102; mm('•')=103;  mm('•')=104; mm('‰')=105; mm('0')=106; mm('¼')=107; mm('½')=108; mm('¾')=109; mm('1')=110; mm('¹')=111; 
-  mm('2')=112;  mm('²')=113; mm('3')=114; mm('³')=115; mm('4')=116; mm('5')=117; mm('6')=118; mm('7')=119;  mm('8')=120; mm('9')=121; mm('a')=122; mm('A')=123; mm('ª')=124; mm('á')=125; mm('Á')=126; mm('à')=127; 
-  mm('À')=128;  mm('â')=129; mm('Â')=130; mm('ä')=131; mm('Ä')=132; mm('ã')=133; mm('Ã')=134; mm('å')=135;  mm('Å')=136; mm('æ')=137; mm('Æ')=138; mm('b')=139; mm('B')=140; mm('c')=141; mm('C')=142; mm('ç')=143; 
-  mm('Ç')=144;  mm('d')=145; mm('D')=146; mm('ð')=147; mm('Ð')=148; mm('e')=149; mm('E')=150; mm('é')=151;  mm('É')=152; mm('è')=153; mm('È')=154; mm('ê')=155; mm('Ê')=156; mm('ë')=157; mm('Ë')=158; mm('f')=159; 
-  mm('F')=160;  mm('ƒ')=161; mm('g')=162; mm('G')=163; mm('h')=164; mm('H')=165; mm('i')=166; mm('I')=167;  mm('í')=168; mm('Í')=169; mm('ì')=170; mm('Ì')=171; mm('î')=172; mm('Î')=173; mm('ï')=174; mm('Ï')=175; 
-  mm('j')=176;  mm('J')=177; mm('k')=178; mm('K')=179; mm('l')=180; mm('L')=181; mm('m')=182; mm('M')=183;  mm('n')=184; mm('N')=185; mm('ñ')=186; mm('Ñ')=187; mm('o')=188; mm('O')=189; mm('º')=190; mm('ó')=191; 
-  mm('Ó')=192;  mm('ò')=193; mm('Ò')=194; mm('ô')=195; mm('Ô')=196; mm('ö')=197; mm('Ö')=198; mm('õ')=199;  mm('Õ')=200; mm('ø')=201; mm('Ø')=202; mm('œ')=203; mm('Œ')=204; mm('p')=205; mm('P')=206; mm('q')=207; 
-  mm('Q')=208;  mm('r')=209; mm('R')=210; mm('s')=211; mm('S')=212; mm('š')=213; mm('Š')=214; mm('ß')=215;  mm('t')=216; mm('T')=217; mm('þ')=218; mm('Þ')=219; mm('™')=220; mm('u')=221; mm('U')=222; mm('ú')=223; 
-  mm('Ú')=224;  mm('ù')=225; mm('Ù')=226; mm('û')=227; mm('Û')=228; mm('ü')=229; mm('Ü')=230; mm('v')=231;  mm('V')=232; mm('w')=233; mm('W')=234; mm('x')=235; mm('X')=236; mm('y')=237; mm('Y')=238; mm('ý')=239; 
-  mm('Ý')=240;  mm('ÿ')=241; mm('Ÿ')=242; mm('z')=243; mm('Z')=244; mm('ž')=245; mm('Ž')=246; mm('\\')=247; mm(127)=248; mm(129)=249; mm(141)=250; mm(143)=251; mm(144)=252; mm(157)=253; mm(160)=254; mm(173)=255; 
+  mm('\'')= 32; mm('-')= 33; mm(150)= 34; mm(151)= 35; mm(' ')= 36; mm('!')= 37; mm('"')= 38; mm('#')= 39;  mm('$')= 40; mm('%')= 41; mm('&')= 42; mm('(')= 43; mm(')')= 44; mm('*')= 45; mm(',')= 46; mm('.')= 47; 
+  mm('/')= 48;  mm(':')= 49; mm(';')= 50; mm('?')= 51; mm('@')= 52; mm('(')= 53; mm(')')= 54; mm('^')= 55;  mm(136)= 56; mm('_')= 57; mm('`')= 58; mm('{')= 59; mm('|')= 60; mm('}')= 61; mm('~')= 62; mm(161)= 63; 
+  mm(166)= 64;  mm(168)= 65; mm(175)= 66; mm(180)= 67; mm(184)= 68; mm(191)= 69; mm(152)= 70; mm(145)= 71;  mm(146)= 72; mm(130)= 73; mm(147)= 74; mm(148)= 75; mm(132)= 76; mm(139)= 77; mm(155)= 78; mm(162)= 79; 
+  mm(163)= 80;  mm(164)= 81; mm(165)= 82; mm(128)= 83; mm('+')= 84; mm('<')= 85; mm('=')= 86; mm('>')= 87;  mm(177)= 88; mm(171)= 89; mm(187)= 90; mm(215)= 91; mm(247)= 92; mm(167)= 93; mm(169)= 94; mm(172)= 95; 
+  mm(174)= 96;  mm(176)= 97; mm(181)= 98; mm(182)= 99; mm(133)=100; mm(134)=101; mm(135)=102; mm(149)=103;  mm(149)=104; mm(137)=105; mm('0')=106; mm(188)=107; mm(189)=108; mm(190)=109; mm('1')=110; mm(185)=111; 
+  mm('2')=112;  mm(178)=113; mm('3')=114; mm(179)=115; mm('4')=116; mm('5')=117; mm('6')=118; mm('7')=119;  mm('8')=120; mm('9')=121; mm('a')=122; mm('A')=123; mm(170)=124; mm(225)=125; mm(193)=126; mm(224)=127; 
+  mm(192)=128;  mm(226)=129; mm(194)=130; mm(228)=131; mm(196)=132; mm(227)=133; mm(195)=134; mm(229)=135;  mm(197)=136; mm(230)=137; mm(198)=138; mm('b')=139; mm('B')=140; mm('c')=141; mm('C')=142; mm(231)=143; 
+  mm(199)=144;  mm('d')=145; mm('D')=146; mm(240)=147; mm(208)=148; mm('e')=149; mm('E')=150; mm(233)=151;  mm(201)=152; mm(232)=153; mm(200)=154; mm(234)=155; mm(202)=156; mm(235)=157; mm(203)=158; mm('f')=159; 
+  mm('F')=160;  mm(131)=161; mm('g')=162; mm('G')=163; mm('h')=164; mm('H')=165; mm('i')=166; mm('I')=167;  mm(237)=168; mm(205)=169; mm(236)=170; mm(204)=171; mm(238)=172; mm(206)=173; mm(239)=174; mm(207)=175; 
+  mm('j')=176;  mm('J')=177; mm('k')=178; mm('K')=179; mm('l')=180; mm('L')=181; mm('m')=182; mm('M')=183;  mm('n')=184; mm('N')=185; mm(241)=186; mm(209)=187; mm('o')=188; mm('O')=189; mm(186)=190; mm(243)=191; 
+  mm(211)=192;  mm(242)=193; mm(210)=194; mm(244)=195; mm(212)=196; mm(246)=197; mm(214)=198; mm(245)=199;  mm(213)=200; mm(248)=201; mm(216)=202; mm(156)=203; mm(140)=204; mm('p')=205; mm('P')=206; mm('q')=207; 
+  mm('Q')=208;  mm('r')=209; mm('R')=210; mm('s')=211; mm('S')=212; mm(154)=213; mm(138)=214; mm(223)=215;  mm('t')=216; mm('T')=217; mm(254)=218; mm(222)=219; mm(153)=220; mm('u')=221; mm('U')=222; mm(250)=223; 
+  mm(218)=224;  mm(249)=225; mm(217)=226; mm(251)=227; mm(219)=228; mm(252)=229; mm(220)=230; mm('v')=231;  mm('V')=232; mm('w')=233; mm('W')=234; mm('x')=235; mm('X')=236; mm('y')=237; mm('Y')=238; mm(253)=239; 
+  mm(221)=240;  mm(255)=241; mm(159)=242; mm('z')=243; mm('Z')=244; mm(158)=245; mm(142)=246; mm('\\')=247; mm(127)=248; mm(129)=249; mm(141)=250; mm(143)=251; mm(144)=252; mm(157)=253; mm(160)=254; mm(173)=255; 
 
 #undef mm
 
@@ -1248,20 +1248,20 @@ static void iStrInitLatin1_map(void)
   /* here case differences use the same code */
   mm(  0)=  0;  mm(  1)=  1; mm(  2)=  2; mm(  3)=  3; mm(  4)=  4; mm(  5)=  5; mm(  6)=  6; mm(  7)=  7;  mm(  8)=  8; mm(  9)=  9; mm( 10)= 10; mm( 11)= 11; mm( 12)= 12; mm( 13)= 13; mm( 14)= 14; mm( 15)= 15; 
   mm( 16)= 16;  mm( 17)= 17; mm( 18)= 18; mm( 19)= 19; mm( 20)= 20; mm( 21)= 21; mm( 22)= 22; mm( 23)= 23;  mm( 24)= 24; mm( 25)= 25; mm( 26)= 26; mm( 27)= 27; mm( 28)= 28; mm( 29)= 29; mm( 30)= 30; mm( 31)= 31; 
-  mm('\'')= 32; mm('-')= 33; mm('–')= 34; mm('—')= 35; mm(' ')= 36; mm('!')= 37; mm('"')= 38; mm('#')= 39;  mm('$')= 40; mm('%')= 41; mm('&')= 42; mm('(')= 43; mm(')')= 44; mm('*')= 45; mm(',')= 46; mm('.')= 47; 
-  mm('/')= 48;  mm(':')= 49; mm(';')= 50; mm('?')= 51; mm('@')= 52; mm('(')= 53; mm(')')= 54; mm('^')= 55;  mm('ˆ')= 56; mm('_')= 57; mm('`')= 58; mm('{')= 59; mm('|')= 60; mm('}')= 61; mm('~')= 62; mm('¡')= 63; 
-  mm('¦')= 64;  mm('¨')= 65; mm('¯')= 66; mm('´')= 67; mm('¸')= 68; mm('¿')= 69; mm('˜')= 70; mm('‘')= 71;  mm('’')= 72; mm('‚')= 73; mm('“')= 74; mm('”')= 75; mm('„')= 76; mm('‹')= 77; mm('›')= 78; mm('¢')= 79; 
-  mm('£')= 80;  mm('¤')= 81; mm('¥')= 82; mm('€')= 83; mm('+')= 84; mm('<')= 85; mm('=')= 86; mm('>')= 87;  mm('±')= 88; mm('«')= 89; mm('»')= 90; mm('×')= 91; mm('÷')= 92; mm('§')= 93; mm('©')= 94; mm('¬')= 95; 
-  mm('®')= 96;  mm('°')= 97; mm('µ')= 98; mm('¶')= 99; mm('…')=100; mm('†')=101; mm('‡')=102; mm('•')=103;  mm('•')=104; mm('‰')=105; mm('0')=106; mm('¼')=107; mm('½')=108; mm('¾')=109; mm('1')=110; mm('¹')=111; 
-  mm('2')=112;  mm('²')=113; mm('3')=114; mm('³')=115; mm('4')=116; mm('5')=117; mm('6')=118; mm('7')=119;  mm('8')=120; mm('9')=121; mm('a')=122; mm('A')=122; mm('ª')=124; mm('á')=125; mm('Á')=125; mm('à')=127; 
-  mm('À')=127;  mm('â')=129; mm('Â')=129; mm('ä')=131; mm('Ä')=131; mm('ã')=133; mm('Ã')=133; mm('å')=135;  mm('Å')=135; mm('æ')=137; mm('Æ')=137; mm('b')=139; mm('B')=139; mm('c')=141; mm('C')=141; mm('ç')=143; 
-  mm('Ç')=143;  mm('d')=145; mm('D')=145; mm('ð')=147; mm('Ð')=147; mm('e')=149; mm('E')=149; mm('é')=151;  mm('É')=151; mm('è')=153; mm('È')=153; mm('ê')=155; mm('Ê')=155; mm('ë')=157; mm('Ë')=157; mm('f')=159; 
-  mm('F')=159;  mm('ƒ')=161; mm('g')=162; mm('G')=162; mm('h')=164; mm('H')=164; mm('i')=166; mm('I')=166;  mm('í')=168; mm('Í')=168; mm('ì')=170; mm('Ì')=170; mm('î')=172; mm('Î')=172; mm('ï')=174; mm('Ï')=174; 
-  mm('j')=176;  mm('J')=176; mm('k')=178; mm('K')=178; mm('l')=180; mm('L')=180; mm('m')=182; mm('M')=182;  mm('n')=184; mm('N')=184; mm('ñ')=186; mm('Ñ')=186; mm('o')=188; mm('O')=188; mm('º')=190; mm('ó')=191; 
-  mm('Ó')=191;  mm('ò')=193; mm('Ò')=193; mm('ô')=195; mm('Ô')=195; mm('ö')=197; mm('Ö')=197; mm('õ')=199;  mm('Õ')=199; mm('ø')=201; mm('Ø')=201; mm('œ')=203; mm('Œ')=203; mm('p')=205; mm('P')=205; mm('q')=207; 
-  mm('Q')=207;  mm('r')=209; mm('R')=209; mm('s')=211; mm('S')=211; mm('š')=213; mm('Š')=213; mm('ß')=215;  mm('t')=216; mm('T')=216; mm('þ')=218; mm('Þ')=218; mm('™')=220; mm('u')=221; mm('U')=221; mm('ú')=223; 
-  mm('Ú')=223;  mm('ù')=225; mm('Ù')=225; mm('û')=227; mm('Û')=227; mm('ü')=229; mm('Ü')=229; mm('v')=231;  mm('V')=231; mm('w')=233; mm('W')=233; mm('x')=235; mm('X')=235; mm('y')=237; mm('Y')=237; mm('ý')=239; 
-  mm('Ý')=239;  mm('ÿ')=241; mm('Ÿ')=241; mm('z')=243; mm('Z')=243; mm('ž')=245; mm('Ž')=245; mm('\\')=247; mm(127)=248; mm(129)=249; mm(141)=250; mm(143)=251; mm(144)=252; mm(157)=253; mm(160)=254; mm(173)=255; 
+  mm('\'')= 32; mm('-')= 33; mm(150)= 34; mm(151)= 35; mm(' ')= 36; mm('!')= 37; mm('"')= 38; mm('#')= 39;  mm('$')= 40; mm('%')= 41; mm('&')= 42; mm('(')= 43; mm(')')= 44; mm('*')= 45; mm(',')= 46; mm('.')= 47; 
+  mm('/')= 48;  mm(':')= 49; mm(';')= 50; mm('?')= 51; mm('@')= 52; mm('(')= 53; mm(')')= 54; mm('^')= 55;  mm(136)= 56; mm('_')= 57; mm('`')= 58; mm('{')= 59; mm('|')= 60; mm('}')= 61; mm('~')= 62; mm(161)= 63; 
+  mm(166)= 64;  mm(168)= 65; mm(175)= 66; mm(180)= 67; mm(184)= 68; mm(191)= 69; mm(152)= 70; mm(145)= 71;  mm(146)= 72; mm(130)= 73; mm(147)= 74; mm(148)= 75; mm(132)= 76; mm(139)= 77; mm(155)= 78; mm(162)= 79; 
+  mm(163)= 80;  mm(164)= 81; mm(165)= 82; mm(128)= 83; mm('+')= 84; mm('<')= 85; mm('=')= 86; mm('>')= 87;  mm(177)= 88; mm(171)= 89; mm(187)= 90; mm(215)= 91; mm(247)= 92; mm(167)= 93; mm(169)= 94; mm(172)= 95; 
+  mm(174)= 96;  mm(176)= 97; mm(181)= 98; mm(182)= 99; mm(133)=100; mm(134)=101; mm(135)=102; mm(149)=103;  mm(149)=104; mm(137)=105; mm('0')=106; mm(188)=107; mm(189)=108; mm(190)=109; mm('1')=110; mm(185)=111; 
+  mm('2')=112;  mm(178)=113; mm('3')=114; mm(179)=115; mm('4')=116; mm('5')=117; mm('6')=118; mm('7')=119;  mm('8')=120; mm('9')=121; mm('a')=122; mm('A')=122; mm(170)=124; mm(225)=125; mm(193)=125; mm(224)=127; 
+  mm(192)=127;  mm(226)=129; mm(194)=129; mm(228)=131; mm(196)=131; mm(227)=133; mm(195)=133; mm(229)=135;  mm(197)=135; mm(230)=137; mm(198)=137; mm('b')=139; mm('B')=139; mm('c')=141; mm('C')=141; mm(231)=143; 
+  mm(199)=143;  mm('d')=145; mm('D')=145; mm(240)=147; mm(208)=147; mm('e')=149; mm('E')=149; mm(233)=151;  mm(201)=151; mm(232)=153; mm(200)=153; mm(234)=155; mm(202)=155; mm(235)=157; mm(203)=157; mm('f')=159; 
+  mm('F')=159;  mm(131)=161; mm('g')=162; mm('G')=162; mm('h')=164; mm('H')=164; mm('i')=166; mm('I')=166;  mm(237)=168; mm(205)=168; mm(236)=170; mm(204)=170; mm(238)=172; mm(206)=172; mm(239)=174; mm(207)=174; 
+  mm('j')=176;  mm('J')=176; mm('k')=178; mm('K')=178; mm('l')=180; mm('L')=180; mm('m')=182; mm('M')=182;  mm('n')=184; mm('N')=184; mm(241)=186; mm(209)=186; mm('o')=188; mm('O')=188; mm(186)=190; mm(243)=191; 
+  mm(211)=191;  mm(242)=193; mm(210)=193; mm(244)=195; mm(212)=195; mm(246)=197; mm(214)=197; mm(245)=199;  mm(213)=199; mm(248)=201; mm(216)=201; mm(156)=203; mm(140)=203; mm('p')=205; mm('P')=205; mm('q')=207; 
+  mm('Q')=207;  mm('r')=209; mm('R')=209; mm('s')=211; mm('S')=211; mm(154)=213; mm(138)=213; mm(223)=215;  mm('t')=216; mm('T')=216; mm(254)=218; mm(222)=218; mm(153)=220; mm('u')=221; mm('U')=221; mm(250)=223; 
+  mm(218)=223;  mm(249)=225; mm(217)=225; mm(251)=227; mm(219)=227; mm(252)=229; mm(220)=229; mm('v')=231;  mm('V')=231; mm('w')=233; mm('W')=233; mm('x')=235; mm('X')=235; mm('y')=237; mm('Y')=237; mm(253)=239; 
+  mm(221)=239;  mm(255)=241; mm(159)=241; mm('z')=243; mm('Z')=243; mm(158)=245; mm(142)=245; mm('\\')=247; mm(127)=248; mm(129)=249; mm(141)=250; mm(143)=251; mm(144)=252; mm(157)=253; mm(160)=254; mm(173)=255; 
 
 #undef mm
 }
